/* mixin */
font-sans()
  font-family "Source Han Sans SC Regular", "Hiragino Sans GB", "Microsoft Yahei", Tahoma, san-serif

font-serif()
  font-family "Source Han Serif SC", "SimSun", serif

font-mono()
  font-family "Source Code Pro", Consolas, monospace

fade(duration)
  transition opacity duration

fadein(dest = 1, duration = .2s)
  opacity dest
  fade(duration)

fadeout(dest = 0, duration = .2s)
  opacity dest
  fade(duration)

resetbox()
  padding 0
  margin 0

borderbox()
  box-sizing border-box

/* atom class */
.shandow
  box-shadow 0 0 5px rgba(0, 0, 0, .5)

.pull-left
  float left

.pull-right
  float right

.clearfix
  &:after
    content ''
    display block
    width 0
    height 0
    clear both

/* common */
html, body
  position relative
  width 100%
  height 100%
  bottom 0
  color #333
  background-color #fff
  font-sans()
  overflow hidden
  resetbox()

ul, li,
h1, h2, h3, h4, h5, h6
  resetbox()

i, em
  font-weight 400
  font-style normal

/* mask */
.mask
  position absolute
  left 0
  right 0
  top 0
  bottom 0
  background-color rgba(0, 0, 0, .5)
  z-index 10

/* progress bar */
.progbar
  position absolute
  left 0
  right 0
  top 0
  height 5px
  border-bottom 1px solid #999
  borderbox()
  transition background-color .5s

  .progbar-bar
    position absolute
    top 0
    bottom 0
    background-color #ccc

/* sidebar */
.sidebar
  position absolute
  top 0
  left -250px
  bottom 0
  width 240px
  background-color #2f353a
  transition left .2s
  borderbox()
  z-index 11

  &.show
    left 0

  h1
    height 32px
    padding 20px 0
    border-bottom 1px solid #232d34
    color #d0d0d0
    line-height 32px
    font-sans()
    font-weight 400

  span
    display inline-block
    height 32px
    vertical-align top

  ul
    margin-top 10px

  li
    list-style none

    a
      display block
      height 18px
      padding 15px 5px
      color #d0d0d0
      font-sans()
      font-size 16px
      line-height 18px
      text-decoration none
      transition all .2s

      &:hover,
      &.active
        color #fff
        background-color #202b33

      &.active
        cursor default

    &.space
      height 18px

  .fa
    display inline-block
    width 20px
    text-align center

  .icon
    display inline-block
    width 32px
    height 32px
    margin 0 10px
    background-image url(../../res/icon.png)
    background-size 100% 100%
    vertical-align top

/* img block */
.mainwrap
  position absolute
  top 5px
  left 0
  right 0
  bottom 0
  display flex
  z-index 1

  li
    list-style none

  img
    position relative
    left -1px
    top -1px

  .mainwrap-title
    height 118px
    line-height 118px

    .mainwrap-btns
      padding 0 10px

    .mainwrap-menu
      float left
      display block
      width 24px
      height 24px
      margin 46px 5px
      border 1px solid #999
      border-radius 50%
      background-color #fff
      color #999
      font-size 14px
      font-weight 700
      line-height 24px
      text-align center
      text-decoration none
      vertical-align middle

      &:hover
        background-color #999
        color #fff

    .mainwrap-menuborder
      float left
      display block
      width 1px
      height 24px
      margin 46px 10px
      background-color #ccc

  .mainwrap-time
    margin-right 20px

    .time-container,
    .duration-container
      display inline-block
      height 30px
      padding 2px 10px
      background-color #eee
      border 1px solid #999
      border-radius 5px
      color #666
      font-mono()
      line-height 30px
      vertical-align middle

    .time-container
      width 180px

    .duration-container
      width 65px

    .time-arrow
      display inline-block
      vertical-align middle
      color #999

  .mainwrap-imgwrap
    position relative
    flex 0 1 855px
    height 100%

  .mainwrap-imglist
    position absolute
    left 0
    bottom 0
    width 855px
    height 640px
    border-top 1px solid #999
    overflow hidden
    z-index 2

  .mainwrap-imgrefer
    position absolute
    left 0
    bottom 0
    width 855px
    height 640px
    overflow hidden
    z-index 1

  .mainwrap-imgcanvas
    position absolute
    left 0
    bottom 0
    width 855px
    height 640px
    overflow hidden
    z-index 3

  .mainwrap-imgload
    position absolute
    left 0
    bottom 0
    width 855px
    height 640px
    z-index 3

    .loadbg
      position absolute
      left 0
      right 0
      top 0
      bottom 0
      background-color #fff

    .loadicon
      position absolute
      left 50%
      top 50%
      width 60px
      height 60px
      margin -30px 0 0 -30px
      background-color rgba(0, 0, 0, .4)
      border-radius 5px
      color #fff
      font-size 32px
      line-height 58px
      text-align center

  .mainwrap-imgitem
    position absolute
    left 0
    bottom 0
    width 855px
    height 640px
    overflow hidden

    &.active
      z-index 100 !important

  .mainwrap-layerlist
    flex 1 0 auto
    height 100%
    border-left 1px solid #999
    background-color #eee
    overflow auto
    user-select none

    .mainwrap-layeritem
      border-bottom 1px solid #999
      font-size 14px
      font-mono()
      cursor pointer

      &:before
        content ''
        display inline-block
        height 44px
        width 6px
        vertical-align middle

      span
        display inline-block
        height 24px
        padding 10px 0
        line-height 24px
        vertical-align middle

      &.marked:before
        background-color #69f

      &.active
        background-color #fff
